(self.webpackChunk=self.webpackChunk||[]).push([[257],{3401:(e,t,r)=>{"use strict";r.d(t,{Gu:()=>l,Kf:()=>c});var s=r(5273),n=r(538);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e,t,r){var n=!1;return null==e.validation||(e.validation.every((function(a){var o=a.indexOf(":"),i=a,l=t;if(o>=0){i=a.substring(0,o);var c=a.substring(o+1)}switch(i){case"required":n=u(e.name,[{errorTrap:(0,s.xb)(l),errorText:e.messages&&e.messages.required?e.messages.required:e.labelText+" is required."}],r);break;case"max":n=u(e.name,[{errorTrap:l>parseInt(c),errorText:e.messages&&e.messages.max?e.messages.max:e.labelText+" should not be greater than "+c+"."}],r);break;case"min":n=u(e.name,[{errorTrap:l<parseInt(c),errorText:e.messages&&e.messages.min?e.messages.min:e.labelText+" should not be lesser than "+c+"."}],r);break;case"max_len":n=u(e.name,[{errorTrap:l.length>parseInt(c),errorText:e.messages&&e.messages.max_len?e.messages.max_len:e.labelText+" should not be greater than "+c+"."}],r);break;case"min_len":n=u(e.name,[{errorTrap:l.length<parseInt(c),errorText:e.messages&&e.messages.min_len?e.messages.min_len:e.labelText+" should not be less than "+c+"."}],r);break;case"number":n=u(e.name,[{errorTrap:isNaN(l),errorText:e.messages&&e.messages.min_len?e.messages.min_len:e.labelText+" should all be a number."}],r);break;case"s_equal":n=u(e.name,[{errorTrap:r[e.name]!=r[c],errorText:e.messages&&e.messages.s_equal?e.messages.s_equal:e.labelText+" should be equal to ".concat(r.fieldsValidation[c].labelText,".")}],r);break;case"email":n=u(e.name,[{errorTrap:!/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,4})$/.test(r[e.name]),errorText:e.messages&&e.messages.email?e.messages.email:e.labelText+" must be a valid email."}],r);break;case"success":n=u(e.name,[{errorTrap:!1,errorText:""}],r)}return!n})),n)},u=function(e,t,r){var a={};if(t.forEach((function(t){t.errorTrap&&(a={error:i({},e,t.errorText)})})),(0,s.xb)(a)){var l=r.errors;delete l[e],n.Z.set(r,"errors",o({},l)),n.Z.set(r,"successes",o(o({},r.successes),{},i({},e,!0)))}else{var u=r.successes;delete u[e],n.Z.set(r,"errors",o(o({},r.errors),a.error)),n.Z.set(r,"successes",o({},u))}return!(0,s.xb)(a)},c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[],a=t.additionalValidation;return(0,s.xb)(a)&&(a={}),Object.keys(e).map((function(s){null!=e[s].validation&&l(a[s]?o(o({},e[s]),{},{validation:a[s]}):e[s],null!=r[s]?r[s]:t[s],t)&&n.push(!0)})),n}},9257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(5273),n=r(2280),a=r(629);const o={email:{name:"email",placeholder:"Email",labelText:"Email",type:"text",wrapperClass:"flex flex-col space-y-1",validation:["required","email"]},password:{name:"password",placeholder:"Password",labelText:"Password",type:"password",wrapperClass:"flex flex-col space-y-1 mb-4",validation:["required"]}};r(238);var i=r(3401);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m={email:"",password:""};const p={data:function(){return u(u({fields:o,successes:{},errors:{},that:this},m),{},{invalid_credentials:"",remember:!1,try_after:0,try_after_message:""})},components:{CustomInput:function(){return r.e(638).then(r.bind(r,9638))},CustomButton:function(){return r.e(705).then(r.bind(r,6705))}},mounted:function(){},methods:u(u({},(0,a.nv)([])),{},{isEmpty:s.xb,startTimer:function(e){var t,r,s=e,n=this,a=setInterval((function(){t=parseInt(s/60,10),r=parseInt(s%60,10),t=t<10?"0"+t:t,r=r<10?"0"+r:r,n.try_after=t+":"+r,--s<0&&(n.errors={},n.try_after=0,clearInterval(a))}),1e3)},onSubmit:function(e){var t=this,r=this.email,n=this.password,a=this.remember;(0,s.xb)((0,i.Kf)(o,this))&&((0,s._m)("Loggin you in."),axios.post("/login",{email:r,password:n,remember:a}).then((function(e){Swal.close(),"success"==e.data.status?window.location.href="/":(0,s.Am)("error",e.data.message)})).catch((function(e){Swal.close(),e&&e.response&&e.response.status,(0,s.gP)(t,e)})))}})};var d=r(1900);(0,d.Z)(p,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"\n        flex\n        items-center\n        justify-center\n        min-md:w-2/3 min-xl:w-1/2\n        md:w-full\n        p-6\n        m-auto\n        bg-white\n        shadow-md\n        rounded\n        mt-6\n    "},[r("form",{staticClass:"grid grid-cols-1 w-full",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("p",{staticClass:"text-4xl mb-4"},[e._v("Login")]),e._v(" "),r("CustomInput",{attrs:{inputData:{field:e.fields.email,value:e.email,that:e.that}}}),e._v(" "),r("CustomInput",{attrs:{inputData:{field:e.fields.password,value:e.password,that:e.that}}}),e._v(" "),r("div",[r("button",{staticClass:"btn btn-dark w-full",attrs:{type:"submit",disabled:0!=e.try_after}},[0!=e.try_after?r("span",[e._v("\n                    Try after: "+e._s(e.try_after)+"\n                ")]):r("span",[e._v(" Login ")])])])],1)])}),[],!1,null,null,null).exports,r(1293).Z;var b=r(4155);const f={data:function(){return{isOpen:!1,guestRoutes:n.Z}},computed:{},methods:{isEmpty:s.xb,drawer:function(){this.isOpen=!this.isOpen}},watch:{isOpen:{immediate:!0,handler:function(e){b.client&&(e?document.body.style.setProperty("overflow","hidden"):document.body.style.removeProperty("overflow"))}}},mounted:function(){},components:{}};const h=(0,d.Z)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("nav",{class:{"nav-bar":!0}},[r("div",{staticClass:"flex items-center"},[e.isOpen?e._e():[r("router-link",{attrs:{to:"/"}},[r("img",{class:{"h-8 transition-all ease-in-out duration-300 rounded":!0},attrs:{src:"/images/logo.png",alt:"Logo"}}),e._v(" "),r("p",{class:{"ml-2 font-bold transition-all ease-in-out duration-300 text-white text-lg":!0}},[e._v("\n                        Japan guide\n                    ")])])]],2),e._v(" "),r("div",{staticClass:"flex items-center"},[r("div",{staticClass:"flex justify-between bg-transparent xl:hidden"},[e._l(e.guestRoutes,(function(t,s){return[t.hidden?e._e():r("router-link",{key:"guest-route-key-"+s,attrs:{to:t.path}},[r("span",{staticClass:"nav-link"},[r("span",[e._v(e._s(t.title))])])])]}))],2),e._v(" "),r("button",{staticClass:"\n                    ml-2\n                    mr-2\n                    min-xl:hidden\n                    text-white\n                    btn-own btn-transparent\n                ",attrs:{"aria-label":"Open Menu"},on:{click:e.drawer}},[r("svg",{staticClass:"w-8 h-8",attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M4 6h16M4 12h16M4 18h16"}})])])]),e._v(" "),r("aside",{class:{"transform top-0 left-0 w-full bg-white fixed h-full overflow-auto ease-in-out transition-all duration-300 z-30 border-r-2 ":!0,"translate-x-0 opacity-100":e.isOpen,"-translate-x-full opacity-0":!e.isOpen}},[r("span",{staticClass:"\n                    flex\n                    w-full\n                    items-center\n                    justify-between\n                    border-b\n                    p-4\n                "},[r("img",{staticClass:"h-8 rounded",attrs:{src:"/images/logo.png",alt:"Logo"}}),e._v(" "),r("p",{staticClass:"ml-4 font-bold text-black"},[e._v("\n                    "+e._s(e.isEmpty(e.$route.meta.topBar)?"":e.$route.meta.topBar)+"\n                ")]),e._v(" "),r("button",{staticClass:"ml-2 mr-2 text-black btn-own btn-transparent",attrs:{"aria-label":"Open Menu"},on:{click:e.drawer}},[r("svg",{staticClass:"w-8 h-8",attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M4 6h16M4 12h16M4 18h16"}})])])]),e._v(" "),e._l(e.guestRoutes,(function(t,s){return[t.hidden||""==t.path?""==t.path?r("span",{key:"guestRoute-"+s,staticClass:"p-4 font-bold text-black"},[e._v("\n                    "+e._s(t.title))]):e._e():r("router-link",{key:"guestRoute-"+s,attrs:{to:t.path},nativeOn:{click:function(t){e.isOpen=!1}}},[r("span",{staticClass:"\n                            flex\n                            items-center\n                            p-4\n                            text-black\n                            hover:bg-blue-900 hover:text-white\n                        "},[r("span",{staticClass:"mr-2"},[r("i",{class:e.isEmpty(t.icon)?"far fa-user":t.icon})]),e._v(" "),r("span",[e._v(e._s(t.title))])])])]}))],2)]),e._v(" "),r("div",{class:{"page-content":!0},attrs:{id:"page-content"}},[r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("router-view")],1)],1)])}),[],!1,null,null,null).exports}}]);