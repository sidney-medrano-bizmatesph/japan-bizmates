(self.webpackChunk=self.webpackChunk||[]).push([[832],{6832:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>v,page_variables:()=>b});var r=a(381),i=a.n(r),n=a(629),s=a(9832),o=a(8085),u=a(3401);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function d(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return m(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}var b={variable_name:"phicRates",variable_name_plural:"phicRates",parent_url:"/phic-rates",add_url:"/add-phic-rate/",edit_url:"/phic-rates/edit/",get_url:"/get-phic-rate/",getter:"getPHICRates",setter:"setVarPHICRates"},f={year:"",prem_rate:""};const h={mounted:function(){var t=this;this.getter();var e=2021,a=parseInt(i().unix(time).format("YYYY"));d(Array(a-e+4).keys()).map((function(a){t.year_menu_items.push({id:e+a+1,text:e+a+1})}))},data:function(){return l(l({that:this,data:[],fields:s.Z,page_variables:b},f),{},{successes:{},errors:{},active_item:0,year_menu_items:[{id:"2021",text:"2021"}],addPHIC:!1})},components:{CustomInput:function(){return a.e(422).then(a.bind(a,3541))},CustomFilter:function(){return a.e(547).then(a.bind(a,7547))},CustomTable:function(){return a.e(432).then(a.bind(a,6432))},CustomPagination:function(){return a.e(148).then(a.bind(a,9148))},CustomTableGroup:function(){return a.e(161).then(a.bind(a,2161))},CustomModal:function(){return a.e(467).then(a.bind(a,3467))}},computed:l({},(0,n.rn)(["phicRates"])),methods:l(l({},(0,n.nv)([b.getter,b.setter])),{},{showModal:function(){this.addPHIC=!0,this.active_item=0,(0,o.tY)(f,this)},hidePHICModal:function(){},onSubmit:function(){var t=this,e=(0,o.Mh)(f,this);e.id=this.active_item,(0,o.xb)((0,u.Kf)(s.Z,this))&&axios.post(b.add_url,e).then((function(e){(0,o.Am)(e.data.status,e.data.message),"success"==e.data.status&&(t.active_item="",t.getter(),(0,o.tY)(f,t))})).catch((function(e){(0,o.gP)(t,e)}))},editClick:function(t){this.active_item==t.id?this.active_item=0:this.active_item=t.id,this.year={id:t.year,text:t.year},this.prem_rate=t.prem_rate},getter:function(t){var e={filter:this.phicRates.filter,order:this.phicRates.order,page:this.phicRates.page,rowsPerPage:this.phicRates.rowsPerPage,type:this.phicRates.type};(0,o.xb)(t)||(e=l(l({},e),t)),this[b.getter](e)}})};const v=(0,a(1900).Z)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CustomModal",{attrs:{showModal:t.addPHIC,afterHideModal:function(){return t.addPHIC=!1},header:"ADD PHIC rate"}},[a("form",{staticClass:"grid grid-cols-2 gap-2",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("CustomInput",{attrs:{inputData:{field:Object.assign({},t.fields.year,{id:t.fields.name+"-add",labelText:"Year"}),value:t.year,that:t.that,menuItems:t.year_menu_items}}}),t._v(" "),a("CustomInput",{attrs:{inputData:{field:Object.assign({},t.fields.prem_rate,{labelText:"Premium rate %"}),value:t.prem_rate,that:t.that}}}),t._v(" "),a("div",[a("button",{staticClass:"btn btn-primary"},[t._v("Save")])])],1)]),t._v(" "),a("CustomTableGroup",{attrs:{tableGroupData:{tableName:"PHICRates"}}},[a("div",{staticClass:"flex flex-wrap justify-between"},[a("CustomFilter",{attrs:{fields:t.fields,getter:t.getter,setter:t.that[t.page_variables.setter],mainVariable:t.phicRates}}),t._v(" "),a("button",{staticClass:"btn btn-primary filter-button mb-2",staticStyle:{height:"37px"},attrs:{type:"button"},on:{click:t.showModal}},[a("i",{staticClass:"fas fa-plus"})])],1),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("CustomTable",{attrs:{fields:t.fields,getter:t.getter,setter:t.that[t.page_variables.setter],mainVariable:t.phicRates,data:t.data,no_count:!0}},t._l(t.phicRates.phicRates,(function(e){return a("tr",{key:e.id,class:{"border-b border-gray-200 py-10":!0,"bg-green-300":e.id==t.active_item,"hover:bg-gray-100":e.id!=t.active_item},on:{dblclick:function(a){e.id==t.active_item||t.editClick(e)}}},[t.active_item!=e.id?[a("td",{staticClass:"px-4 py-4"},[a("button",{staticClass:"btn btn-primary m-0 btn-sm",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.editClick(e)}}},[t._v("\n                                Edit\n                            ")])]),t._v(" "),a("td",{staticClass:"px-4 py-4"},[t._v(t._s(e.year))]),t._v(" "),a("td",{staticClass:"px-4 py-4"},[t._v("\n                            "+t._s(e.prem_rate)+"\n                        ")])]:[a("td",{staticClass:"px-4 py-4",staticStyle:{"white-space":"nowrap"}},[a("button",{staticClass:"btn btn-primary m-0 btn-sm"},[t._v("\n                                Save\n                            ")]),t._v(" "),a("button",{staticClass:"btn btn-danger m-0 btn-sm",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.editClick(e)}}},[a("i",{staticClass:"las la-times"})])]),t._v(" "),a("td",{staticClass:"px-4 py-4"},[a("CustomInput",{attrs:{inputData:{field:t.fields.year,value:t.year,that:t.that,menuItems:t.year_menu_items}}})],1),t._v(" "),a("td",{staticClass:"px-4 py-4"},[a("CustomInput",{attrs:{inputData:{field:t.fields.prem_rate,value:t.prem_rate,that:t.that}}})],1)]],2)})),0)],1),t._v(" "),a("CustomPagination",{attrs:{getter:t.getter,setter:t.that[t.page_variables.setter],mainVariable:t.phicRates}})],1)],1)}),[],!1,null,null,null).exports}}]);