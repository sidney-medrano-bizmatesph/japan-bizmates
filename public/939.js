(self.webpackChunk=self.webpackChunk||[]).push([[939],{5987:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});var n=a(3645),i=a.n(n)()((function(t){return t[1]}));i.push([t.id,".dropbox[data-v-402a5d59]{background:#f0f0f0;border:2px dashed grey;border-radius:20px;color:dimgray;cursor:pointer;min-height:38px;position:relative;transition:all .3s ease-in-out}.input-file[data-v-402a5d59]{cursor:pointer;height:100%;opacity:0;position:absolute;width:100%}.dropbox[data-v-402a5d59]:hover{background:#fff;border:2px dashed #052683;color:#000}.strong-upload-text[data-v-402a5d59]{transition:all .2s ease-in-out}.dropbox:hover .strong-upload-text[data-v-402a5d59]{color:#052683}.dropbox p[data-v-402a5d59]{margin-bottom:0;padding:5px 0;text-align:center}.preview[data-v-402a5d59]{max-height:50px;max-width:100%;transition:all .3s ease-in-out;vertical-align:middle}.preview[data-v-402a5d59]:hover{background-color:#c9c9c9}.preview-overlay[data-v-402a5d59]{bottom:0;display:none;position:absolute!important;right:0}.preview-overlay[data-v-402a5d59]:hover,.preview:hover~.preview-overlay[data-v-402a5d59]{display:inline-block}.preview-container:hover .preview[data-v-402a5d59]{filter:blur(8px)}",""]);const r=i},7103:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>f});var n=a(7757),i=a.n(n),r=a(5273),s=a(3401);function l(t,e,a,n,i,r,s){try{var l=t[r](s),o=l.value}catch(t){return void a(t)}l.done?e(o):Promise.resolve(o).then(n,i)}const o={props:["inputData"],data:function(){return{uploadedFiles:[],uploadError:null,currentStatus:null,files:[],unAccepted:[],key:0}},computed:{error:function(){var t=this.inputData.that,e=this.inputData;return t.errors[e.field.name]},success:function(){var t=this.inputData.that,e=this.inputData;return t.successes[e.field.name]},errorText:function(){this.inputData.that;var t=this.inputData,e="";return Array.isArray(t.that.errors[t.field.name])?t.that.errors[t.field.name].map((function(t){e+="".concat(t," ")})):e=t.that.errors[t.field.name],e},filesCount:function(){return this.inputData.that[this.inputData.field.name].length}},methods:{isEmpty:r.xb,display:r.jf,reset:function(){},save:function(t){},onChange:function(t){var e,a=this;return(e=i().mark((function e(){var n,r,l,o,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.inputData,r=a.inputData.that,l=t.target,o=l.name,c=l.files,n.field.accept.split(","),n.onChange&&n.onChange(t),c.length){e.next=6;break}return e.abrupt("return");case 6:if(u=[],r[o]=[],!(c.length>100)){e.next=13;break}return Swal.fire({icon:"error",title:"Please don't upload more than 100 files at once."}),e.abrupt("return");case 13:Array.from(Array(c.length).keys()).map((function(t){var e=c[t],i=Math.round(e.size/1024/1024*100)/100,l=!1,p=e.name.split("."),d="."+p[p.length-1];n.field.acceptedExtensions||n.field.unAcceptedExtensions?(n.field.acceptedExtensions&&n.field.acceptedExtensions.includes(d)&&(l=!0),n.field.unAcceptedExtensions&&n.field.unAcceptedExtensions.includes(d)?l=!1:null==n.field.acceptedExtensions&&(l=!0)):l=!0,l?null!=n.field.max_size&&i>Math.ceil(parseFloat(n.field.max_size))?u.push({file:{name:e.name,size:e.size,type:e.type},error:"size"}):(r[o].push(e),(0,s.Gu)(n.field,1,r),$("#file-preview-".concat(a.inputData.field.name)).collapse("show")):u.push({file:{name:e.name,size:e.size,type:e.type},error:"fileType"})})),a.key="".concat(a.inputData.field.name,"-").concat(Date.now()),a.unAccepted=u;case 16:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,i){var r=e.apply(t,a);function s(t){l(r,n,i,s,o,"next",t)}function o(t){l(r,n,i,s,o,"throw",t)}s(void 0)}))})()},remove:function(t){var e=this.inputData,a=e.that,n=e.field,i=a[n.name],r=Array.from(Array(i.length).keys()).filter((function(e){return e!=t}));a[n.name]=[],r.map((function(t){a[n.name].push(i[t])})),(0,s.Gu)(n,a[n.name],a),a[n.name].length<1&&$("#file-preview-".concat(this.inputData.field.name)).collapse("hide")}},mounted:function(){this.key="".concat(this.inputData.field.name,"-").concat(Date.now()),this.reset()},watch:{filesCount:function(t){t<1&&$("#file-preview-".concat(this.inputData.field.name)).collapse("hide")}}};var c=a(3379),u=a.n(c),p=a(5987),d={insert:"head",singleton:!1};u()(p.Z,d);p.Z.locals;const f=(0,a(1900).Z)(o,(function(){var t,e,a=this,n=a.$createElement,i=a._self._c||n;return i("div",{class:(t={},t[a.inputData.field.wrapperClassName]=a.inputData.field.wrapperClassName,t)},[a.inputData.field.labelText&&""!=a.inputData.field.labelText?i("label",{class:{"text-red-600":a.error&&""!=a.error,"text-green-600":a.success,"disabled-text":a.inputData.disabled},attrs:{for:a.inputData.field.name}},[a._v("\n        "+a._s(a.inputData.field.labelText)+"\n        "),a.inputData.field.validation&&a.inputData.field.validation.includes("required")?i("span",{staticClass:"text-red-600"},[a._v("*")]):a._e()]):a._e(),a._v(" "),i("div",{class:(e={"dropbox mb-2":!0,"success-form-control":a.success,"error-form-control":a.error&&""!=a.error,"default-form-control":!a.error&&!a.success},e[a.inputData.field.className]=null!=a.inputData.field.className,e)},[i("input",{key:a.key,staticClass:"input-file",attrs:{type:"file",multiple:null==a.inputData.field.multiple||a.inputData.field.multiple,name:a.inputData.field.name,accept:a.inputData.field.accept?a.inputData.field.accept:"*"},on:{change:a.onChange}}),a._v(" "),a._m(0)]),a._v(" "),a.isEmpty(a.unAccepted)?a._e():i("div",[a._m(1),a._v(" "),i("ul",a._l(a.unAccepted,(function(t,e){return i("li",{key:e},[a._v("\n                "+a._s(t.file.name)+"\n                "),"size"==t.error?i("span",{staticClass:"text-red-600"},[a._v("Size exceeded the limit:\n                    "+a._s(Math.ceil(a.inputData.field.max_size))+"MB")]):a._e(),a._v(" "),"fileType"==t.error?i("span",{staticClass:"text-red-600"},[a._v("File type not accepted.")]):a._e()])})),0)]),a._v(" "),a.inputData.noPreview?a._t("preview"):[a.filesCount>0?i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table-own"},[a._m(2),a._v(" "),i("tbody",a._l(a.inputData.that[a.inputData.field.name],(function(t,e){return i("tr",{key:e},[i("td",[i("button",{staticClass:"btn btn-error",attrs:{type:"button"},on:{click:function(t){return a.remove(e)}}},[i("i",{staticClass:"fa fa-times"})])]),a._v(" "),i("td",["image"==t.type.split("/")[0]?i("a",{staticClass:"spotlight",attrs:{href:a.display(t)}},[i("img",{staticClass:"preview",attrs:{src:a.display(t),alt:""}})]):i("img",{staticClass:"preview",attrs:{src:a.display(t),alt:""}})]),a._v(" "),i("td",[a._v(a._s(t.name))]),a._v(" "),i("td",[a._v("\n                            "+a._s(Math.round(t.size/1024/1024*100)/100)+"MB\n                        ")])])})),0)])]):a._e()],a._v(" "),""!=a.inputData.that.errors[a.inputData.field.name]&&a.inputData.that.errors[a.inputData.field.name]?i("span",{class:"helper-text block text-red-600"},[a._v(a._s(a.errorText))]):a._e(),a._v(" "),null!=a.inputData.field.max_size?i("span",{class:"helper-text block"},[a._v(a._s("Max size: "+a.inputData.field.max_size+"MB"))]):a._e()],2)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("i",{staticClass:"fa fa-upload strong-upload-text"}),t._v(" "),a("strong",{staticClass:"strong-upload-text"},[t._v("Drag")]),t._v(" your file(s) or\n            "),a("strong",{staticClass:"strong-upload-text"},[t._v("click")]),t._v(" to browse\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-red-600 m-0"},[a("b",[t._v("Un accepted files: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Action")]),t._v(" "),a("th",[t._v("Preview")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Size")])])])}],!1,null,"402a5d59",null).exports}}]);